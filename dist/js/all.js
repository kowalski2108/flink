$(".flink-vc.video").each(function(){const t=$(this),n=t.find("video"),o=t.find("div.timeline-wrapper"),e=t.find("button.play-pause"),u=t.find("button.fullscreen"),i=t.find("button.mute-unmute"),l=t.find("button.speed"),a=t.find("input.volume-slider"),c=t.find("div.current-time"),m=t.find("div.total-time");let d=!1,r;function s(e){var t=o[0].getBoundingClientRect(),t=Math.min(Math.max(0,e.pageX-t.x),t.width)/t.width;(d=1==(1&e.buttons))?(r=n[0].paused,n[0].pause()):(n[0].currentTime=t*n[0].duration,r||n[0].play()),f(e)}function f(e){var t=o[0].getBoundingClientRect(),t=Math.min(Math.max(0,e.pageX-t.x),t.width)/t.width;o[0].style.setProperty("--preview-position",t),d&&(e.preventDefault(),o[0].style.setProperty("--progress-position",t))}function p(){n[0].paused?n[0].play():n[0].pause()}o.on("mousemove",f),o.on("mousedown",s),$(document).on("mouseup",function(e){d&&s(e)}),$(document).on("mousemove",function(e){d&&f(e)}),e.click(p),n.click(p),n.on("play",function(){t.removeClass("paused")}),n.on("pause",function(){t.addClass("paused")}),i.click(function(){n[0].muted=!n[0].muted}),a.on("input",function(e){n[0].volume=$(this).val(),n.muted=0===$(this).val()}),n.on("volumechange",function(){a.val(n[0].volume);let e;e=n[0].muted||0===n[0].volume?(a.val(0),"muted"):.5<=n[0].volume?"high":"low",t.attr("data-volume-level",e)});const v=new Intl.NumberFormat(void 0,{minimumIntegerDigits:2});function h(e){var t=Math.floor(e%60),n=Math.floor(e/60)%60,e=Math.floor(e/3600);return 0===e?n+":"+v.format(t):e+":"+v.format(n)+":"+v.format(t)}function g(){null==document.fullscreenElement?t[0].requestFullscreen():document.exitFullscreen()}n.on("loadeddata",function(){m.html(h(n[0].duration))}),n.on("timeupdate",function(){c.html(h(n[0].currentTime)),o[0].style.setProperty("--progress-position",n[0].currentTime/n[0].duration)}),l.click(function(){let e=n[0].playbackRate+.5;2<e&&(e=.5),n[0].playbackRate=e,l.html(e+"x")}),u.click(g),n.dblclick(g),$(document).on("fullscreenchange",function(){t.toggleClass("fullscreen",null!==document.fullscreenElement)})});